# service_architecture_hw8

**Используемый паттерн для реализации.**
1. Для реализации использовался паттерн Сага с оркестрацией на стороне order-service.
2. Order-service содержит в себе две операции создание заказа и отмена заказа, которая является компенсирующей транзакцией.
3. В сервисе storage есть две транзакции, резервирование товара и компенсирующая транзакция отмена резерва.
4. Аналогично для сервисов delivery и payment.
5. Транзакция оплата заказа в payment является поворотной.
6. При удачном сценарии происходит создание заказа, резервация товара и курьера, а также оплата.
7. При неудачном сценарии при любом этапе, запускаются компенсирующие транзакции в соответствующих сервисах.


# Инструкция по запуску
1. Запуск приложения **make k8s-deploy**
3. Запуск выполнения коллекции postman **make newman**
3. Удаление используемых ресурсов **make k8s-remove**
4. В случаи необходимости команды для получения адресов сервисов
    - order minikube service -n otus-msa-hw8 --url order-service
    - storage minikube service -n otus-msa-hw8 --url storage-service
    - delivery minikube service -n otus-msa-hw8 --url delivery-service
    - payment minikube service -n otus-msa-hw8 --url payment-service
